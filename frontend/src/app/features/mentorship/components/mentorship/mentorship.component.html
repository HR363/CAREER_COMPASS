<div class="mentorship-container">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
  </div>

  <!-- Navigation -->
  <nav class="mentorship-nav">
    <div class="nav-content">
      <div class="nav-left">
        <button (click)="goBack()" class="back-btn">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <h1 class="nav-title">ðŸŽ“ Mentorship</h1>
      </div>
      <div class="nav-right">
        <span class="user-name">{{ currentUser?.name }}</span>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <div class="mentorship-content">
    <!-- Schedule New Session (for students) -->
    <div *ngIf="currentUser?.role === 'STUDENT'" class="schedule-card">
      <h2 class="card-title">ðŸ“… Schedule New Session</h2>
      <form [formGroup]="scheduleForm" (ngSubmit)="scheduleSession()">
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label">Select Mentor</label>
            <select formControlName="mentorId" class="form-select">
              <option value="">Choose a mentor</option>
              <option *ngFor="let mentor of mentors" [value]="mentor.id">
                {{ mentor.name }} - {{ mentor.profile?.education }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Date & Time</label>
            <input type="datetime-local" formControlName="scheduledAt" class="form-input">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Description (Optional)</label>
          <textarea formControlName="description" rows="3" class="form-textarea" 
                    placeholder="Describe what you'd like to discuss..."></textarea>
        </div>
        <button type="submit" [disabled]="scheduleForm.invalid || isScheduling"
                class="btn-primary">
          <span *ngIf="isScheduling" class="spinner"></span>
          {{ isScheduling ? 'Scheduling...' : 'Schedule Session' }}
        </button>
      </form>
    </div>

    <!-- Sessions List -->
    <div class="sessions-card">
      <h2 class="card-title">ðŸ“š Your Sessions</h2>
      
      <div *ngIf="sessions.length === 0" class="empty-state">
        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
        </svg>
        <p>No sessions found. Schedule your first session to get started!</p>
      </div>

      <div class="sessions-list">
        <div *ngFor="let session of sessions" class="session-item">
          <div class="session-info">
            <div class="session-header">
              <h3 class="session-title">{{ getSessionTitle(session) }}</h3>
              <span class="status-badge" [ngClass]="'status-' + session.status">
                {{ session.status }}
              </span>
            </div>
            <p class="session-date">
              {{ session.scheduledAt | date:'MMM dd, yyyy h:mm a' }}
            </p>
            <p class="session-participant">
              <span *ngIf="currentUser?.role === 'STUDENT'">
                Mentor: {{ session.mentor?.name }}
              </span>
              <span *ngIf="currentUser?.role === 'MENTOR'">
                Student: {{ session.student?.name }}
              </span>
            </p>
          </div>
          
          <div class="session-actions">
            <button *ngIf="canJoinSession(session)" 
                    (click)="joinSession(session)"
                    class="btn-join">
              Join Session
            </button>
            <button *ngIf="canCancelSession(session)" 
                    (click)="cancelSession(session)"
                    class="btn-cancel">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
