"use strict";(self.webpackChunkcareercompass_frontend=self.webpackChunkcareercompass_frontend||[]).push([[563],{7563:(b,c,i)=>{i.r(c),i.d(c,{chatRoutes:()=>y});var l=i(177),a=i(4341),e=i(4438),h=i(3674),g=i(8010),p=i(1069);const u=["chatContainer"];function f(o,d){1&o&&(e.j41(0,"div",23)(1,"div",24),e.qSk(),e.j41(2,"svg",25),e.nrm(3,"path",26),e.k0s()(),e.joV(),e.j41(4,"h3",27),e.EFF(5,"Welcome to CareerCompass AI!"),e.k0s(),e.j41(6,"p",28),e.EFF(7,"Ask me anything about your career, skills development, or professional growth."),e.k0s()())}function v(o,d){1&o&&(e.j41(0,"div",33),e.nrm(1,"div",34),e.j41(2,"span",35),e.EFF(3,"AI is thinking..."),e.k0s()())}function x(o,d){if(1&o&&(e.j41(0,"div",35),e.nrm(1,"div",36),e.j41(2,"div",37),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&o){const t=e.XpG().$implicit,n=e.XpG();e.R7$(),e.Y8G("innerHTML",n.formatMessage(t.content),e.npT),e.R7$(2),e.SpI(" ",e.i5U(4,2,t.timestamp,"h:mm a")," ")}}function C(o,d){if(1&o&&(e.j41(0,"div",24)(1,"div",29)(2,"div",30),e.DNE(3,v,4,0,"div",31)(4,x,5,5,"div",32),e.k0s()()()),2&o){const t=d.$implicit;e.R7$(),e.Y8G("ngClass",t.isUser?"flex justify-end":"flex justify-start"),e.R7$(),e.Y8G("ngClass",t.isUser?"bg-primary-600 text-white":"bg-white border border-secondary-200"),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading)}}function k(o,d){1&o&&e.nrm(0,"span",38)}const y=[{path:"",component:(()=>{class o{constructor(t,n,s,r){this.fb=t,this.aiService=n,this.authService=s,this.router=r,this.messages=[],this.isLoading=!1,this.chatForm=this.fb.group({message:["",[a.k0.required,a.k0.minLength(1)]]})}ngOnInit(){this.addMessage("Hello! I'm your AI career assistant. I can help you with career guidance, skill development, job search tips, and professional growth strategies. What would you like to know?",!1)}ngAfterViewChecked(){this.scrollToBottom()}sendMessage(){if(this.chatForm.valid&&!this.isLoading){const t=this.chatForm.get("message")?.value.trim();if(t){this.addMessage(t,!0),this.chatForm.patchValue({message:""});const n=this.addMessage("",!1,!0);this.isLoading=!0,this.aiService.chatWithAI({message:t}).subscribe({next:s=>{this.isLoading=!1,this.removeMessage(n.id),this.addMessage(s.response,!1)},error:s=>{this.isLoading=!1,this.removeMessage(n.id),this.addMessage("Sorry, I encountered an error. Please try again.",!1),console.error("Chat error:",s)}})}}}addMessage(t,n,s=!1){const r={id:Date.now().toString(),content:t,isUser:n,timestamp:new Date,isLoading:s};return this.messages.push(r),r}removeMessage(t){this.messages=this.messages.filter(n=>n.id!==t)}scrollToBottom(){this.chatContainer&&(this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight)}formatMessage(t){return t.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}goBack(){this.router.navigate(["/dashboard"])}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ok),e.rXU(h.E),e.rXU(g.u),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-chat"]],viewQuery:function(n,s){if(1&n&&e.GBs(u,5),2&n){let r;e.mGM(r=e.lsd())&&(s.chatContainer=r.first)}},standalone:!0,features:[e.aNF],decls:26,vars:5,consts:[["chatContainer",""],[1,"min-h-screen","bg-secondary-50"],[1,"bg-white","shadow-sm","border-b","border-secondary-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"mr-4","text-secondary-500","hover:text-secondary-700",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-xl","font-bold","text-primary-600"],[1,"text-sm","text-secondary-600"],[1,"max-w-4xl","mx-auto","h-[calc(100vh-64px)]","flex","flex-col"],[1,"flex-1","overflow-y-auto","p-6"],["class","text-center text-secondary-500 mt-20",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],[1,"border-t","border-secondary-200","bg-white","p-4"],[1,"flex","space-x-4",3,"ngSubmit","formGroup"],[1,"flex-1"],["type","text","formControlName","message","placeholder","Ask about career advice, skills, or professional development...",1,"w-full","px-4","py-2","border","border-secondary-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-transparent",3,"keydown.enter"],["type","submit",1,"px-6","py-2","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center",3,"disabled"],["class","spinner mr-2",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"text-center","text-secondary-500","mt-20"],[1,"mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","text-primary-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-lg","font-medium","text-secondary-900","mb-2"],[1,"text-secondary-600"],[3,"ngClass"],[1,"max-w-xs","lg:max-w-md","px-4","py-2","rounded-lg","shadow-sm",3,"ngClass"],["class","flex items-center space-x-2",4,"ngIf"],["class","text-sm",4,"ngIf"],[1,"flex","items-center","space-x-2"],[1,"spinner","w-4","h-4"],[1,"text-sm"],[3,"innerHTML"],[1,"text-xs","opacity-75","mt-1"],[1,"spinner","mr-2"]],template:function(n,s){if(1&n){const r=e.RV6();e.j41(0,"div",1)(1,"nav",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(r),e.Njj(s.goBack())}),e.qSk(),e.j41(6,"svg",7),e.nrm(7,"path",8),e.k0s()(),e.joV(),e.j41(8,"h1",9),e.EFF(9,"CareerCompass AI Chat"),e.k0s()(),e.j41(10,"div",5)(11,"span",10),e.EFF(12,"AI Career Assistant"),e.k0s()()()()(),e.j41(13,"div",11)(14,"div",12,0),e.DNE(16,f,8,0,"div",13)(17,C,5,4,"div",14),e.k0s(),e.j41(18,"div",15)(19,"form",16),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(s.sendMessage())}),e.j41(20,"div",17)(21,"input",18),e.bIt("keydown.enter",function(){return e.eBV(r),e.Njj(s.sendMessage())}),e.k0s()(),e.j41(22,"button",19),e.DNE(23,k,1,0,"span",20),e.qSk(),e.j41(24,"svg",21),e.nrm(25,"path",22),e.k0s()()()()()()}2&n&&(e.R7$(16),e.Y8G("ngIf",0===s.messages.length),e.R7$(),e.Y8G("ngForOf",s.messages),e.R7$(2),e.Y8G("formGroup",s.chatForm),e.R7$(3),e.Y8G("disabled",s.chatForm.invalid||s.isLoading),e.R7$(),e.Y8G("ngIf",s.isLoading))},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.vh,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}}return o})()}]}}]);