{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/USER/Desktop/25PROJO/CAREER_COMPASS/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../../core/services/auth.service\";\nimport * as i3 from \"../../../../core/services/mentorship.service\";\nimport * as i4 from \"../../../../core/services/websocket.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nconst _c0 = [\"localVideo\"];\nconst _c1 = [\"remoteVideo\"];\nconst _c2 = [\"chatContainer\"];\nfunction VideoCallComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 35);\n    i0.ɵɵelement(3, \"path\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"p\", 37);\n    i0.ɵɵtext(5, \"Waiting for other participant...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction VideoCallComponent__svg_svg_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 7);\n    i0.ɵɵelement(1, \"path\", 38);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VideoCallComponent__svg_svg_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 7);\n    i0.ɵɵelement(1, \"path\", 39)(2, \"path\", 40);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VideoCallComponent__svg_svg_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 7);\n    i0.ɵɵelement(1, \"path\", 36);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VideoCallComponent__svg_svg_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 7);\n    i0.ɵɵelement(1, \"path\", 36)(2, \"path\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VideoCallComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"span\", 43);\n    i0.ɵɵtext(2, \"Camera off\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction VideoCallComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 45)(2, \"div\", 46);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 47);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", message_r2.isFromUser ? \"text-right\" : \"text-left\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", message_r2.isFromUser ? \"bg-primary-600\" : \"bg-secondary-700\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", message_r2.content, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 4, message_r2.timestamp, \"h:mm a\"), \" \");\n  }\n}\nexport let VideoCallComponent = /*#__PURE__*/(() => {\n  class VideoCallComponent {\n    constructor(route, router, authService, mentorshipService, webSocketService) {\n      this.route = route;\n      this.router = router;\n      this.authService = authService;\n      this.mentorshipService = mentorshipService;\n      this.webSocketService = webSocketService;\n      this.session = null;\n      // WebRTC\n      this.peerConnection = null;\n      this.localStream = null;\n      // UI State\n      this.isMuted = false;\n      this.isVideoEnabled = true;\n      this.isRemoteStreamActive = false;\n      // Chat\n      this.chatMessages = [];\n      this.chatMessage = '';\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const sessionId = _this.route.snapshot.paramMap.get('id');\n        if (sessionId) {\n          yield _this.loadSession(sessionId);\n          yield _this.initializeVideoCall();\n          _this.setupWebSocketListeners();\n        }\n      })();\n    }\n    ngOnDestroy() {\n      this.cleanup();\n    }\n    loadSession(sessionId) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        _this2.mentorshipService.getSession(sessionId).subscribe({\n          next: session => {\n            _this2.session = session;\n            _this2.joinSession();\n          },\n          error: error => {\n            console.error('Error loading session:', error);\n            _this2.router.navigate(['/mentorship']);\n          }\n        });\n      })();\n    }\n    initializeVideoCall() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          // Get user media\n          _this3.localStream = yield navigator.mediaDevices.getUserMedia({\n            video: true,\n            audio: true\n          });\n          // Set up local video\n          if (_this3.localVideo) {\n            _this3.localVideo.nativeElement.srcObject = _this3.localStream;\n          }\n          // Initialize peer connection\n          _this3.initializePeerConnection();\n        } catch (error) {\n          console.error('Error accessing media devices:', error);\n        }\n      })();\n    }\n    initializePeerConnection() {\n      const configuration = {\n        iceServers: [{\n          urls: 'stun:stun.l.google.com:19302'\n        }, {\n          urls: 'stun:stun1.l.google.com:19302'\n        }]\n      };\n      this.peerConnection = new RTCPeerConnection(configuration);\n      // Add local stream to peer connection\n      if (this.localStream) {\n        this.localStream.getTracks().forEach(track => {\n          this.peerConnection.addTrack(track, this.localStream);\n        });\n      }\n      // Handle remote stream\n      this.peerConnection.ontrack = event => {\n        const remoteStream = event.streams[0];\n        if (this.remoteVideo) {\n          this.remoteVideo.nativeElement.srcObject = remoteStream;\n          this.isRemoteStreamActive = true;\n        }\n      };\n      // Handle ICE candidates\n      this.peerConnection.onicecandidate = event => {\n        if (event.candidate && this.session) {\n          this.webSocketService.sendIceCandidate(this.session.roomId, event.candidate, 'remote-user' // This should be the actual remote user ID\n          );\n        }\n      };\n    }\n    setupWebSocketListeners() {\n      this.webSocketService.onWebRTCOffer(data => {\n        this.handleOffer(data.offer);\n      });\n      this.webSocketService.onWebRTCAnswer(data => {\n        this.handleAnswer(data.answer);\n      });\n      this.webSocketService.onIceCandidate(data => {\n        this.handleIceCandidate(data.candidate);\n      });\n      this.webSocketService.onChatMessage(data => {\n        this.chatMessages.push({\n          content: data.message,\n          isFromUser: data.fromUserId !== this.authService.getCurrentUser()?.id,\n          timestamp: new Date(data.timestamp)\n        });\n        this.scrollChatToBottom();\n      });\n    }\n    joinSession() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        if (_this4.session) {\n          try {\n            yield _this4.webSocketService.joinRoom(_this4.session.roomId);\n          } catch (error) {\n            console.error('Error joining room:', error);\n          }\n        }\n      })();\n    }\n    handleOffer(offer) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        if (_this5.peerConnection) {\n          yield _this5.peerConnection.setRemoteDescription(offer);\n          const answer = yield _this5.peerConnection.createAnswer();\n          yield _this5.peerConnection.setLocalDescription(answer);\n          if (_this5.session) {\n            _this5.webSocketService.sendWebRTCAnswer(_this5.session.roomId, answer, 'remote-user');\n          }\n        }\n      })();\n    }\n    handleAnswer(answer) {\n      var _this6 = this;\n      return _asyncToGenerator(function* () {\n        if (_this6.peerConnection) {\n          yield _this6.peerConnection.setRemoteDescription(answer);\n        }\n      })();\n    }\n    handleIceCandidate(candidate) {\n      var _this7 = this;\n      return _asyncToGenerator(function* () {\n        if (_this7.peerConnection) {\n          yield _this7.peerConnection.addIceCandidate(candidate);\n        }\n      })();\n    }\n    toggleMute() {\n      if (this.localStream) {\n        const audioTrack = this.localStream.getAudioTracks()[0];\n        if (audioTrack) {\n          audioTrack.enabled = !audioTrack.enabled;\n          this.isMuted = !audioTrack.enabled;\n        }\n      }\n    }\n    toggleVideo() {\n      if (this.localStream) {\n        const videoTrack = this.localStream.getVideoTracks()[0];\n        if (videoTrack) {\n          videoTrack.enabled = !videoTrack.enabled;\n          this.isVideoEnabled = videoTrack.enabled;\n        }\n      }\n    }\n    endCall() {\n      var _this8 = this;\n      return _asyncToGenerator(function* () {\n        if (_this8.session) {\n          yield _this8.mentorshipService.endSession(_this8.session.id).subscribe({\n            next: () => {\n              _this8.leaveSession();\n            },\n            error: error => {\n              console.error('Error ending session:', error);\n              _this8.leaveSession();\n            }\n          });\n        } else {\n          _this8.leaveSession();\n        }\n      })();\n    }\n    leaveSession() {\n      this.cleanup();\n      this.router.navigate(['/mentorship']);\n    }\n    sendChatMessage() {\n      if (this.chatMessage.trim() && this.session) {\n        this.webSocketService.sendChatMessage(this.session.roomId, this.chatMessage);\n        this.chatMessages.push({\n          content: this.chatMessage,\n          isFromUser: true,\n          timestamp: new Date()\n        });\n        this.chatMessage = '';\n        this.scrollChatToBottom();\n      }\n    }\n    scrollChatToBottom() {\n      setTimeout(() => {\n        if (this.chatContainer) {\n          this.chatContainer.nativeElement.scrollTop = this.chatContainer.nativeElement.scrollHeight;\n        }\n      }, 100);\n    }\n    cleanup() {\n      if (this.localStream) {\n        this.localStream.getTracks().forEach(track => track.stop());\n      }\n      if (this.peerConnection) {\n        this.peerConnection.close();\n      }\n      this.webSocketService.disconnect();\n    }\n    static {\n      this.ɵfac = function VideoCallComponent_Factory(t) {\n        return new (t || VideoCallComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.MentorshipService), i0.ɵɵdirectiveInject(i4.WebSocketService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: VideoCallComponent,\n        selectors: [[\"app-video-call\"]],\n        viewQuery: function VideoCallComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n            i0.ɵɵviewQuery(_c2, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.localVideo = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.remoteVideo = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chatContainer = _t.first);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 45,\n        vars: 19,\n        consts: [[\"remoteVideo\", \"\"], [\"localVideo\", \"\"], [\"chatContainer\", \"\"], [1, \"min-h-screen\", \"bg-secondary-900\", \"flex\", \"flex-col\"], [1, \"bg-secondary-800\", \"px-4\", \"py-3\", \"flex\", \"justify-between\", \"items-center\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"text-white\", \"hover:text-secondary-300\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 19l-7-7 7-7\"], [1, \"text-white\", \"font-medium\"], [1, \"flex\", \"items-center\", \"space-x-2\"], [1, \"text-secondary-300\", \"text-sm\"], [1, \"w-3\", \"h-3\", \"bg-green-500\", \"rounded-full\"], [1, \"flex-1\", \"flex\", \"flex-col\", \"lg:flex-row\"], [1, \"flex-1\", \"flex\", \"flex-col\"], [1, \"flex-1\", \"bg-secondary-800\", \"flex\", \"items-center\", \"justify-center\", \"relative\"], [\"autoplay\", \"\", \"playsinline\", \"\", 1, \"w-full\", \"h-full\", \"object-cover\"], [\"class\", \"text-center text-white\", 4, \"ngIf\"], [1, \"bg-secondary-800\", \"px-6\", \"py-4\", \"flex\", \"justify-center\", \"space-x-4\"], [1, \"p-3\", \"rounded-full\", \"text-white\", \"transition-colors\", 3, \"click\"], [\"class\", \"w-6 h-6\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 4, \"ngIf\"], [1, \"p-3\", \"rounded-full\", \"bg-red-600\", \"hover:bg-red-700\", \"text-white\", \"transition-colors\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M5 3a2 2 0 00-2 2v1c0 8.284 6.716 15 15 15h1a2 2 0 002-2v-3.28a1 1 0 00-.684-.948l-4.493-1.498a1 1 0 00-1.21.502l-1.13 2.257a11.042 11.042 0 01-5.516-5.517l2.257-1.128a1 1 0 00.502-1.21L9.228 3.684A1 1 0 008.279 3H5z\"], [1, \"lg:w-80\", \"bg-secondary-800\", \"flex\", \"flex-col\"], [1, \"p-4\", \"border-b\", \"border-secondary-700\"], [\"autoplay\", \"\", \"playsinline\", \"\", \"muted\", \"\", 1, \"w-full\", \"h-32\", \"object-cover\", \"rounded-lg\"], [\"class\", \"w-full h-32 bg-secondary-700 rounded-lg flex items-center justify-center\", 4, \"ngIf\"], [1, \"flex-1\", \"p-4\", \"overflow-y-auto\"], [\"class\", \"mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-4\", \"border-t\", \"border-secondary-700\"], [1, \"flex\", \"space-x-2\"], [\"type\", \"text\", \"placeholder\", \"Type a message...\", 1, \"flex-1\", \"px-3\", \"py-2\", \"bg-secondary-700\", \"text-white\", \"rounded-lg\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary-500\", 3, \"ngModelChange\", \"keydown.enter\", \"ngModel\"], [1, \"px-4\", \"py-2\", \"bg-primary-600\", \"text-white\", \"rounded-lg\", \"hover:bg-primary-700\", 3, \"click\"], [1, \"text-center\", \"text-white\"], [1, \"mb-4\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-16\", \"h-16\", \"mx-auto\", \"text-secondary-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"], [1, \"text-lg\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21\"], [1, \"w-full\", \"h-32\", \"bg-secondary-700\", \"rounded-lg\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-secondary-400\", \"text-sm\"], [1, \"mb-3\"], [3, \"ngClass\"], [1, \"inline-block\", \"px-3\", \"py-2\", \"rounded-lg\", \"text-white\", \"text-sm\", \"max-w-xs\", 3, \"ngClass\"], [1, \"text-xs\", \"text-secondary-400\", \"mt-1\"]],\n        template: function VideoCallComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function VideoCallComponent_Template_button_click_3_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.leaveSession());\n            });\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(4, \"svg\", 7);\n            i0.ɵɵelement(5, \"path\", 8);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(6, \"h1\", 9);\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 10)(9, \"span\", 11);\n            i0.ɵɵtext(10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(11, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 13)(13, \"div\", 14)(14, \"div\", 15);\n            i0.ɵɵelement(15, \"video\", 16, 0);\n            i0.ɵɵtemplate(17, VideoCallComponent_div_17_Template, 6, 0, \"div\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"div\", 18)(19, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function VideoCallComponent_Template_button_click_19_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.toggleMute());\n            });\n            i0.ɵɵtemplate(20, VideoCallComponent__svg_svg_20_Template, 2, 0, \"svg\", 20)(21, VideoCallComponent__svg_svg_21_Template, 3, 0, \"svg\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function VideoCallComponent_Template_button_click_22_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.toggleVideo());\n            });\n            i0.ɵɵtemplate(23, VideoCallComponent__svg_svg_23_Template, 2, 0, \"svg\", 20)(24, VideoCallComponent__svg_svg_24_Template, 3, 0, \"svg\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function VideoCallComponent_Template_button_click_25_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.endCall());\n            });\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(26, \"svg\", 7);\n            i0.ɵɵelement(27, \"path\", 22);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(28, \"div\", 23)(29, \"div\", 24);\n            i0.ɵɵelement(30, \"video\", 25, 1);\n            i0.ɵɵtemplate(32, VideoCallComponent_div_32_Template, 3, 0, \"div\", 26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"div\", 14)(34, \"div\", 24)(35, \"h3\", 9);\n            i0.ɵɵtext(36, \"Chat\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(37, \"div\", 27, 2);\n            i0.ɵɵtemplate(39, VideoCallComponent_div_39_Template, 7, 7, \"div\", 28);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"div\", 29)(41, \"div\", 30)(42, \"input\", 31);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function VideoCallComponent_Template_input_ngModelChange_42_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.chatMessage, $event) || (ctx.chatMessage = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"keydown.enter\", function VideoCallComponent_Template_input_keydown_enter_42_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.sendChatMessage());\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"button\", 32);\n            i0.ɵɵlistener(\"click\", function VideoCallComponent_Template_button_click_43_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.sendChatMessage());\n            });\n            i0.ɵɵtext(44, \" Send \");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate2(\"\", ctx.session == null ? null : ctx.session.mentor == null ? null : ctx.session.mentor.name, \" & \", ctx.session == null ? null : ctx.session.student == null ? null : ctx.session.student.name, \"\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(ctx.session == null ? null : ctx.session.status);\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"hidden\", !ctx.isRemoteStreamActive);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isRemoteStreamActive);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassMap(ctx.isMuted ? \"bg-red-600 hover:bg-red-700\" : \"bg-secondary-700 hover:bg-secondary-600\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isMuted);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isMuted);\n            i0.ɵɵadvance();\n            i0.ɵɵclassMap(!ctx.isVideoEnabled ? \"bg-red-600 hover:bg-red-700\" : \"bg-secondary-700 hover:bg-secondary-600\");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isVideoEnabled);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isVideoEnabled);\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"hidden\", !ctx.isVideoEnabled);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isVideoEnabled);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.chatMessages);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.chatMessage);\n          }\n        },\n        dependencies: [CommonModule, i5.NgClass, i5.NgForOf, i5.NgIf, i5.DatePipe, FormsModule, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel],\n        encapsulation: 2\n      });\n    }\n  }\n  return VideoCallComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}