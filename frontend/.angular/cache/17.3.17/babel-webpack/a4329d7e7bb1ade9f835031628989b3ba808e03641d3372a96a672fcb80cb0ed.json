{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../core/services/auth.service\";\nimport * as i3 from \"../../../../core/services/mentorship.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction MentorshipComponent_div_15_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mentor_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", mentor_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", mentor_r3.name, \" - \", mentor_r3.profile == null ? null : mentor_r3.profile.education, \" \");\n  }\n}\nfunction MentorshipComponent_div_15_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 30);\n  }\n}\nfunction MentorshipComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 13)(2, \"h2\", 14);\n    i0.ɵɵtext(3, \"Schedule New Session\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 18);\n    i0.ɵɵlistener(\"ngSubmit\", function MentorshipComponent_div_15_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.scheduleSession());\n    });\n    i0.ɵɵelementStart(5, \"div\", 19)(6, \"div\")(7, \"label\", 20);\n    i0.ɵɵtext(8, \"Select Mentor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"select\", 21)(10, \"option\", 22);\n    i0.ɵɵtext(11, \"Choose a mentor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, MentorshipComponent_div_15_option_12_Template, 2, 3, \"option\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\", 20);\n    i0.ɵɵtext(15, \"Date & Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 25)(18, \"label\", 20);\n    i0.ɵɵtext(19, \"Description (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"textarea\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 27);\n    i0.ɵɵtemplate(22, MentorshipComponent_div_15_span_22_Template, 1, 0, \"span\", 28);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.scheduleForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.mentors);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.scheduleForm.invalid || ctx_r1.isScheduling);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isScheduling);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isScheduling ? \"Scheduling...\" : \"Schedule Session\", \" \");\n  }\n}\nfunction MentorshipComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \" No sessions found. Schedule your first session to get started! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MentorshipComponent_div_20_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const session_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Mentor: \", session_r4.mentor == null ? null : session_r4.mentor.name, \" \");\n  }\n}\nfunction MentorshipComponent_div_20_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const session_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Student: \", session_r4.student == null ? null : session_r4.student.name, \" \");\n  }\n}\nfunction MentorshipComponent_div_20_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function MentorshipComponent_div_20_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const session_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.joinSession(session_r4));\n    });\n    i0.ɵɵtext(1, \" Join Session \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MentorshipComponent_div_20_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function MentorshipComponent_div_20_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const session_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cancelSession(session_r4));\n    });\n    i0.ɵɵtext(1, \" Cancel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MentorshipComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 33)(2, \"div\", 34)(3, \"div\", 35)(4, \"div\")(5, \"h3\", 36);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"span\", 37);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 38)(13, \"p\", 9);\n    i0.ɵɵtemplate(14, MentorshipComponent_div_20_span_14_Template, 2, 1, \"span\", 39)(15, MentorshipComponent_div_20_span_15_Template, 2, 1, \"span\", 39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 40);\n    i0.ɵɵtemplate(17, MentorshipComponent_div_20_button_17_Template, 2, 0, \"button\", 41)(18, MentorshipComponent_div_20_button_18_Template, 2, 0, \"button\", 42);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const session_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getSessionTitle(session_r4), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 8, session_r4.scheduledAt, \"MMM dd, yyyy h:mm a\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getStatusBadgeClass(session_r4.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", session_r4.status, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.currentUser == null ? null : ctx_r1.currentUser.role) === \"STUDENT\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.currentUser == null ? null : ctx_r1.currentUser.role) === \"MENTOR\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.canJoinSession(session_r4));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.canCancelSession(session_r4));\n  }\n}\nexport let MentorshipComponent = /*#__PURE__*/(() => {\n  class MentorshipComponent {\n    constructor(fb, authService, mentorshipService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.mentorshipService = mentorshipService;\n      this.router = router;\n      this.currentUser = null;\n      this.sessions = [];\n      this.mentors = [];\n      this.isScheduling = false;\n      this.scheduleForm = this.fb.group({\n        mentorId: ['', [Validators.required]],\n        scheduledAt: ['', [Validators.required]],\n        description: ['']\n      });\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.getCurrentUser();\n      this.loadSessions();\n      if (this.currentUser?.role === 'STUDENT') {\n        this.loadMentors();\n      }\n    }\n    loadSessions() {\n      this.mentorshipService.getSessions().subscribe({\n        next: sessions => {\n          this.sessions = sessions;\n        },\n        error: error => {\n          console.error('Error loading sessions:', error);\n        }\n      });\n    }\n    loadMentors() {\n      // This would typically load from a mentors API endpoint\n      // For now, we'll use a mock list\n      this.mentors = [{\n        id: '1',\n        name: 'John Smith',\n        profile: {\n          education: 'Software Engineering'\n        }\n      }, {\n        id: '2',\n        name: 'Sarah Johnson',\n        profile: {\n          education: 'Data Science'\n        }\n      }, {\n        id: '3',\n        name: 'Mike Wilson',\n        profile: {\n          education: 'Product Management'\n        }\n      }];\n    }\n    scheduleSession() {\n      if (this.scheduleForm.valid) {\n        this.isScheduling = true;\n        const formData = this.scheduleForm.value;\n        const scheduleData = {\n          mentorId: formData.mentorId,\n          studentId: this.currentUser.id,\n          scheduledAt: formData.scheduledAt,\n          description: formData.description\n        };\n        this.mentorshipService.scheduleSession(scheduleData).subscribe({\n          next: session => {\n            this.isScheduling = false;\n            this.scheduleForm.reset();\n            this.loadSessions();\n          },\n          error: error => {\n            this.isScheduling = false;\n            console.error('Error scheduling session:', error);\n          }\n        });\n      }\n    }\n    joinSession(session) {\n      this.router.navigate(['/mentorship/session', session.id]);\n    }\n    cancelSession(session) {\n      if (confirm('Are you sure you want to cancel this session?')) {\n        this.mentorshipService.cancelSession(session.id).subscribe({\n          next: () => {\n            this.loadSessions();\n          },\n          error: error => {\n            console.error('Error cancelling session:', error);\n          }\n        });\n      }\n    }\n    getSessionTitle(session) {\n      if (this.currentUser?.role === 'STUDENT') {\n        return `Session with ${session.mentor?.name}`;\n      } else {\n        return `Session with ${session.student?.name}`;\n      }\n    }\n    getStatusBadgeClass(status) {\n      switch (status) {\n        case 'SCHEDULED':\n          return 'bg-yellow-100 text-yellow-800';\n        case 'IN_PROGRESS':\n          return 'bg-blue-100 text-blue-800';\n        case 'COMPLETED':\n          return 'bg-green-100 text-green-800';\n        case 'CANCELLED':\n          return 'bg-red-100 text-red-800';\n        default:\n          return 'bg-secondary-100 text-secondary-800';\n      }\n    }\n    canJoinSession(session) {\n      const now = new Date();\n      const sessionTime = new Date(session.scheduledAt);\n      const timeDiff = Math.abs(now.getTime() - sessionTime.getTime()) / (1000 * 60); // minutes\n      return session.status === 'SCHEDULED' && timeDiff <= 30; // Can join 30 minutes before/after\n    }\n    canCancelSession(session) {\n      return session.status === 'SCHEDULED';\n    }\n    goBack() {\n      this.router.navigate(['/dashboard']);\n    }\n    static {\n      this.ɵfac = function MentorshipComponent_Factory(t) {\n        return new (t || MentorshipComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.MentorshipService), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MentorshipComponent,\n        selectors: [[\"app-mentorship\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 21,\n        vars: 4,\n        consts: [[1, \"min-h-screen\", \"bg-secondary-50\"], [1, \"bg-white\", \"shadow-sm\", \"border-b\", \"border-secondary-200\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"flex\", \"justify-between\", \"h-16\"], [1, \"flex\", \"items-center\"], [1, \"mr-4\", \"text-secondary-500\", \"hover:text-secondary-700\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 19l-7-7 7-7\"], [1, \"text-xl\", \"font-bold\", \"text-primary-600\"], [1, \"text-sm\", \"text-secondary-600\"], [1, \"max-w-7xl\", \"mx-auto\", \"py-6\", \"sm:px-6\", \"lg:px-8\"], [1, \"px-4\", \"py-6\", \"sm:px-0\"], [\"class\", \"mb-8\", 4, \"ngIf\"], [1, \"card\"], [1, \"text-lg\", \"font-medium\", \"text-secondary-900\", \"mb-4\"], [\"class\", \"text-center py-8 text-secondary-500\", 4, \"ngIf\"], [\"class\", \"border border-secondary-200 rounded-lg p-4 mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-8\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [1, \"form-label\"], [\"formControlName\", \"mentorId\", 1, \"input-field\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"datetime-local\", \"formControlName\", \"scheduledAt\", 1, \"input-field\"], [1, \"mt-4\"], [\"formControlName\", \"description\", \"rows\", \"3\", \"placeholder\", \"Describe what you'd like to discuss...\", 1, \"input-field\"], [\"type\", \"submit\", 1, \"btn-primary\", \"mt-4\", 3, \"disabled\"], [\"class\", \"spinner mr-2\", 4, \"ngIf\"], [3, \"value\"], [1, \"spinner\", \"mr-2\"], [1, \"text-center\", \"py-8\", \"text-secondary-500\"], [1, \"border\", \"border-secondary-200\", \"rounded-lg\", \"p-4\", \"mb-4\"], [1, \"flex\", \"justify-between\", \"items-start\"], [1, \"flex-1\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"font-medium\", \"text-secondary-900\"], [1, \"inline-flex\", \"items-center\", \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\", 3, \"ngClass\"], [1, \"mt-2\"], [4, \"ngIf\"], [1, \"flex\", \"space-x-2\"], [\"class\", \"btn-primary text-sm\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-outline text-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"btn-primary\", \"text-sm\", 3, \"click\"], [1, \"btn-outline\", \"text-sm\", 3, \"click\"]],\n        template: function MentorshipComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function MentorshipComponent_Template_button_click_5_listener() {\n              return ctx.goBack();\n            });\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(6, \"svg\", 6);\n            i0.ɵɵelement(7, \"path\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(8, \"h1\", 8);\n            i0.ɵɵtext(9, \"Mentorship\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 4)(11, \"span\", 9);\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11);\n            i0.ɵɵtemplate(15, MentorshipComponent_div_15_Template, 24, 5, \"div\", 12);\n            i0.ɵɵelementStart(16, \"div\", 13)(17, \"h2\", 14);\n            i0.ɵɵtext(18, \"Your Sessions\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(19, MentorshipComponent_div_19_Template, 2, 0, \"div\", 15)(20, MentorshipComponent_div_20_Template, 19, 11, \"div\", 16);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", (ctx.currentUser == null ? null : ctx.currentUser.role) === \"STUDENT\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.sessions.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.sessions);\n          }\n        },\n        dependencies: [CommonModule, i5.NgClass, i5.NgForOf, i5.NgIf, i5.DatePipe, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        encapsulation: 2\n      });\n    }\n  }\n  return MentorshipComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}