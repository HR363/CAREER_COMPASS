{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../core/services/auth.service\";\nimport * as i3 from \"../../../../core/services/ai.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ProfileComponent_span_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 36);\n  }\n}\nfunction ProfileComponent_div_58_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 36);\n  }\n}\nfunction ProfileComponent_div_58_div_9_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"h5\", 46);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 47);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 48)(6, \"p\")(7, \"strong\");\n    i0.ɵɵtext(8, \"Skills:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\")(11, \"strong\");\n    i0.ɵɵtext(12, \"Salary:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\")(15, \"strong\");\n    i0.ɵɵtext(16, \"Why this fits:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const career_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(career_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(career_r3.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", career_r3.requiredSkills, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", career_r3.salaryRange, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", career_r3.matchReason, \"\");\n  }\n}\nfunction ProfileComponent_div_58_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"h4\", 42);\n    i0.ɵɵtext(2, \"Suggested Career Paths\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 43);\n    i0.ɵɵtemplate(4, ProfileComponent_div_58_div_9_div_4_Template, 18, 5, \"div\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.recommendations.suggestedCareers);\n  }\n}\nfunction ProfileComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"h3\", 21);\n    i0.ɵɵtext(2, \"Get Career Recommendations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 38);\n    i0.ɵɵtext(4, \" Based on your profile, we can suggest personalized career paths and learning roadmaps. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 39)(6, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_58_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.getCareerRecommendations());\n    });\n    i0.ɵɵtemplate(7, ProfileComponent_div_58_span_7_Template, 1, 0, \"span\", 34);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, ProfileComponent_div_58_div_9_Template, 5, 1, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isGeneratingRecommendations);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isGeneratingRecommendations);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isGeneratingRecommendations ? \"Generating...\" : \"Get Recommendations\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.recommendations);\n  }\n}\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(fb, authService, aiService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.aiService = aiService;\n      this.router = router;\n      this.currentUser = null;\n      this.isUpdating = false;\n      this.isGeneratingRecommendations = false;\n      this.recommendations = null;\n      this.profileForm = this.fb.group({\n        education: [''],\n        skills: [''],\n        interests: [''],\n        goals: ['']\n      });\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.getCurrentUser();\n      this.loadProfile();\n    }\n    loadProfile() {\n      if (this.currentUser?.profile) {\n        const profile = this.currentUser.profile;\n        this.profileForm.patchValue({\n          education: profile.education || '',\n          skills: profile.skills ? JSON.parse(profile.skills).join(', ') : '',\n          interests: profile.interests ? JSON.parse(profile.interests).join(', ') : '',\n          goals: profile.goals || ''\n        });\n      }\n    }\n    updateProfile() {\n      if (this.profileForm.valid) {\n        this.isUpdating = true;\n        const formData = this.profileForm.value;\n        const profileData = {\n          education: formData.education,\n          skills: formData.skills ? JSON.stringify(formData.skills.split(',').map(s => s.trim())) : '[]',\n          interests: formData.interests ? JSON.stringify(formData.interests.split(',').map(s => s.trim())) : '[]',\n          goals: formData.goals\n        };\n        // Here you would typically call a profile update service\n        // For now, we'll simulate the update\n        setTimeout(() => {\n          this.isUpdating = false;\n          // Update local user data\n          if (this.currentUser) {\n            this.currentUser.profile = {\n              ...this.currentUser.profile,\n              ...profileData\n            };\n          }\n          console.log('Profile updated:', profileData);\n        }, 1000);\n      }\n    }\n    getCareerRecommendations() {\n      if (!this.profileForm.valid) {\n        alert('Please fill in your profile information first');\n        return;\n      }\n      this.isGeneratingRecommendations = true;\n      const formData = this.profileForm.value;\n      const requestData = {\n        skills: formData.skills || '',\n        interests: formData.interests || '',\n        education: formData.education || '',\n        goals: formData.goals || ''\n      };\n      this.aiService.getCareerRecommendations(requestData).subscribe({\n        next: response => {\n          this.isGeneratingRecommendations = false;\n          this.recommendations = response;\n        },\n        error: error => {\n          this.isGeneratingRecommendations = false;\n          console.error('Error getting recommendations:', error);\n          alert('Failed to generate recommendations. Please try again.');\n        }\n      });\n    }\n    getRoleBadgeClass(role) {\n      switch (role) {\n        case 'ADMIN':\n          return 'bg-red-100 text-red-800';\n        case 'MENTOR':\n          return 'bg-purple-100 text-purple-800';\n        case 'STUDENT':\n          return 'bg-blue-100 text-blue-800';\n        default:\n          return 'bg-secondary-100 text-secondary-800';\n      }\n    }\n    goBack() {\n      this.router.navigate(['/dashboard']);\n    }\n    static {\n      this.ɵfac = function ProfileComponent_Factory(t) {\n        return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.AiService), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProfileComponent,\n        selectors: [[\"app-profile\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 59,\n        vars: 10,\n        consts: [[1, \"min-h-screen\", \"bg-secondary-50\"], [1, \"bg-white\", \"shadow-sm\", \"border-b\", \"border-secondary-200\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"flex\", \"justify-between\", \"h-16\"], [1, \"flex\", \"items-center\"], [1, \"mr-4\", \"text-secondary-500\", \"hover:text-secondary-700\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 19l-7-7 7-7\"], [1, \"text-xl\", \"font-bold\", \"text-primary-600\"], [1, \"text-sm\", \"text-secondary-600\"], [1, \"max-w-4xl\", \"mx-auto\", \"py-6\", \"sm:px-6\", \"lg:px-8\"], [1, \"px-4\", \"py-6\", \"sm:px-0\"], [1, \"card\", \"mb-8\"], [1, \"flex\", \"items-center\", \"space-x-6\"], [1, \"w-20\", \"h-20\", \"bg-primary-100\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-10\", \"h-10\", \"text-primary-600\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"], [1, \"text-2xl\", \"font-bold\", \"text-secondary-900\"], [1, \"text-secondary-600\"], [1, \"inline-flex\", \"items-center\", \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\", \"mt-2\", 3, \"ngClass\"], [1, \"card\"], [1, \"text-lg\", \"font-medium\", \"text-secondary-900\", \"mb-6\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"education\", \"placeholder\", \"e.g., Bachelor's in Computer Science\", 1, \"input-field\"], [\"type\", \"text\", \"formControlName\", \"goals\", \"placeholder\", \"e.g., Become a Senior Software Engineer\", 1, \"input-field\"], [1, \"mt-6\"], [\"formControlName\", \"skills\", \"rows\", \"3\", \"placeholder\", \"Enter your skills (comma-separated): JavaScript, React, Node.js, Python...\", 1, \"input-field\"], [1, \"text-sm\", \"text-secondary-500\", \"mt-1\"], [\"formControlName\", \"interests\", \"rows\", \"3\", \"placeholder\", \"Enter your interests (comma-separated): Web Development, AI, Data Science...\", 1, \"input-field\"], [1, \"mt-6\", \"flex\", \"justify-end\", \"space-x-4\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner mr-2\", 4, \"ngIf\"], [\"class\", \"card mt-8\", 4, \"ngIf\"], [1, \"spinner\", \"mr-2\"], [1, \"card\", \"mt-8\"], [1, \"text-secondary-600\", \"mb-4\"], [1, \"flex\", \"space-x-4\"], [1, \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"mt-6\", 4, \"ngIf\"], [1, \"font-medium\", \"text-secondary-900\", \"mb-4\"], [1, \"space-y-4\"], [\"class\", \"border border-secondary-200 rounded-lg p-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"border\", \"border-secondary-200\", \"rounded-lg\", \"p-4\"], [1, \"font-medium\", \"text-secondary-900\"], [1, \"text-sm\", \"text-secondary-600\", \"mt-1\"], [1, \"mt-2\", \"text-sm\", \"text-secondary-500\"]],\n        template: function ProfileComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_5_listener() {\n              return ctx.goBack();\n            });\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(6, \"svg\", 6);\n            i0.ɵɵelement(7, \"path\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(8, \"h1\", 8);\n            i0.ɵɵtext(9, \"Profile\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 4)(11, \"span\", 9);\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"div\", 12)(16, \"div\", 13)(17, \"div\", 14);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(18, \"svg\", 15);\n            i0.ɵɵelement(19, \"path\", 16);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(20, \"div\")(21, \"h2\", 17);\n            i0.ɵɵtext(22);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"p\", 18);\n            i0.ɵɵtext(24);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"span\", 19);\n            i0.ɵɵtext(26);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(27, \"div\", 20)(28, \"h3\", 21);\n            i0.ɵɵtext(29, \"Profile Information\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"form\", 22);\n            i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_30_listener() {\n              return ctx.updateProfile();\n            });\n            i0.ɵɵelementStart(31, \"div\", 23)(32, \"div\")(33, \"label\", 24);\n            i0.ɵɵtext(34, \"Education\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(35, \"input\", 25);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"div\")(37, \"label\", 24);\n            i0.ɵɵtext(38, \"Career Goals\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(39, \"input\", 26);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(40, \"div\", 27)(41, \"label\", 24);\n            i0.ɵɵtext(42, \"Skills\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(43, \"textarea\", 28);\n            i0.ɵɵelementStart(44, \"p\", 29);\n            i0.ɵɵtext(45, \"Separate skills with commas\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(46, \"div\", 27)(47, \"label\", 24);\n            i0.ɵɵtext(48, \"Interests\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(49, \"textarea\", 30);\n            i0.ɵɵelementStart(50, \"p\", 29);\n            i0.ɵɵtext(51, \"Separate interests with commas\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(52, \"div\", 31)(53, \"button\", 32);\n            i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_53_listener() {\n              return ctx.goBack();\n            });\n            i0.ɵɵtext(54, \" Cancel \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(55, \"button\", 33);\n            i0.ɵɵtemplate(56, ProfileComponent_span_56_Template, 1, 0, \"span\", 34);\n            i0.ɵɵtext(57);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(58, ProfileComponent_div_58_Template, 10, 4, \"div\", 35);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.email);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngClass\", ctx.getRoleBadgeClass(ctx.currentUser == null ? null : ctx.currentUser.role));\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.currentUser == null ? null : ctx.currentUser.role, \" \");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n            i0.ɵɵadvance(25);\n            i0.ɵɵproperty(\"disabled\", ctx.profileForm.invalid || ctx.isUpdating);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isUpdating);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.isUpdating ? \"Updating...\" : \"Update Profile\", \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", (ctx.currentUser == null ? null : ctx.currentUser.role) === \"STUDENT\");\n          }\n        },\n        dependencies: [CommonModule, i5.NgClass, i5.NgForOf, i5.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        encapsulation: 2\n      });\n    }\n  }\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}