{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nlet MentorshipComponent = class MentorshipComponent {\n  constructor(fb, authService, mentorshipService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.mentorshipService = mentorshipService;\n    this.router = router;\n    this.currentUser = null;\n    this.sessions = [];\n    this.mentors = [];\n    this.isScheduling = false;\n    this.scheduleForm = this.fb.group({\n      mentorId: ['', [Validators.required]],\n      scheduledAt: ['', [Validators.required]],\n      description: ['']\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    this.loadSessions();\n    if (this.currentUser?.role === 'STUDENT') {\n      this.loadMentors();\n    }\n  }\n  loadSessions() {\n    this.mentorshipService.getSessions().subscribe({\n      next: sessions => {\n        this.sessions = sessions;\n      },\n      error: error => {\n        console.error('Error loading sessions:', error);\n      }\n    });\n  }\n  loadMentors() {\n    // This would typically load from a mentors API endpoint\n    // For now, we'll use a mock list\n    this.mentors = [{\n      id: '1',\n      name: 'John Smith',\n      profile: {\n        education: 'Software Engineering'\n      }\n    }, {\n      id: '2',\n      name: 'Sarah Johnson',\n      profile: {\n        education: 'Data Science'\n      }\n    }, {\n      id: '3',\n      name: 'Mike Wilson',\n      profile: {\n        education: 'Product Management'\n      }\n    }];\n  }\n  scheduleSession() {\n    if (this.scheduleForm.valid) {\n      this.isScheduling = true;\n      const formData = this.scheduleForm.value;\n      const scheduleData = {\n        mentorId: formData.mentorId,\n        studentId: this.currentUser.id,\n        scheduledAt: formData.scheduledAt,\n        description: formData.description\n      };\n      this.mentorshipService.scheduleSession(scheduleData).subscribe({\n        next: session => {\n          this.isScheduling = false;\n          this.scheduleForm.reset();\n          this.loadSessions();\n        },\n        error: error => {\n          this.isScheduling = false;\n          console.error('Error scheduling session:', error);\n        }\n      });\n    }\n  }\n  joinSession(session) {\n    this.router.navigate(['/mentorship/session', session.id]);\n  }\n  cancelSession(session) {\n    if (confirm('Are you sure you want to cancel this session?')) {\n      this.mentorshipService.cancelSession(session.id).subscribe({\n        next: () => {\n          this.loadSessions();\n        },\n        error: error => {\n          console.error('Error cancelling session:', error);\n        }\n      });\n    }\n  }\n  getSessionTitle(session) {\n    if (this.currentUser?.role === 'STUDENT') {\n      return `Session with ${session.mentor?.name}`;\n    } else {\n      return `Session with ${session.student?.name}`;\n    }\n  }\n  getStatusBadgeClass(status) {\n    switch (status) {\n      case 'SCHEDULED':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'IN_PROGRESS':\n        return 'bg-blue-100 text-blue-800';\n      case 'COMPLETED':\n        return 'bg-green-100 text-green-800';\n      case 'CANCELLED':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-secondary-100 text-secondary-800';\n    }\n  }\n  canJoinSession(session) {\n    const now = new Date();\n    const sessionTime = new Date(session.scheduledAt);\n    const timeDiff = Math.abs(now.getTime() - sessionTime.getTime()) / (1000 * 60); // minutes\n    return session.status === 'SCHEDULED' && timeDiff <= 30; // Can join 30 minutes before/after\n  }\n  canCancelSession(session) {\n    return session.status === 'SCHEDULED';\n  }\n  goBack() {\n    this.router.navigate(['/dashboard']);\n  }\n};\nMentorshipComponent = __decorate([Component({\n  selector: 'app-mentorship',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: `\n    <div class=\"min-h-screen bg-secondary-50\">\n      <!-- Navigation -->\n      <nav class=\"bg-white shadow-sm border-b border-secondary-200\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div class=\"flex justify-between h-16\">\n            <div class=\"flex items-center\">\n              <button (click)=\"goBack()\" class=\"mr-4 text-secondary-500 hover:text-secondary-700\">\n                <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path>\n                </svg>\n              </button>\n              <h1 class=\"text-xl font-bold text-primary-600\">Mentorship</h1>\n            </div>\n            <div class=\"flex items-center\">\n              <span class=\"text-sm text-secondary-600\">{{ currentUser?.name }}</span>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div class=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div class=\"px-4 py-6 sm:px-0\">\n          \n          <!-- Schedule New Session (for students) -->\n          <div *ngIf=\"currentUser?.role === 'STUDENT'\" class=\"mb-8\">\n            <div class=\"card\">\n              <h2 class=\"text-lg font-medium text-secondary-900 mb-4\">Schedule New Session</h2>\n              <form [formGroup]=\"scheduleForm\" (ngSubmit)=\"scheduleSession()\">\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"form-label\">Select Mentor</label>\n                    <select formControlName=\"mentorId\" class=\"input-field\">\n                      <option value=\"\">Choose a mentor</option>\n                      <option *ngFor=\"let mentor of mentors\" [value]=\"mentor.id\">\n                        {{ mentor.name }} - {{ mentor.profile?.education }}\n                      </option>\n                    </select>\n                  </div>\n                  <div>\n                    <label class=\"form-label\">Date & Time</label>\n                    <input type=\"datetime-local\" formControlName=\"scheduledAt\" class=\"input-field\">\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <label class=\"form-label\">Description (Optional)</label>\n                  <textarea formControlName=\"description\" rows=\"3\" class=\"input-field\" \n                            placeholder=\"Describe what you'd like to discuss...\"></textarea>\n                </div>\n                <button type=\"submit\" [disabled]=\"scheduleForm.invalid || isScheduling\"\n                        class=\"btn-primary mt-4\">\n                  <span *ngIf=\"isScheduling\" class=\"spinner mr-2\"></span>\n                  {{ isScheduling ? 'Scheduling...' : 'Schedule Session' }}\n                </button>\n              </form>\n            </div>\n          </div>\n\n          <!-- Sessions List -->\n          <div class=\"card\">\n            <h2 class=\"text-lg font-medium text-secondary-900 mb-4\">Your Sessions</h2>\n            \n            <div *ngIf=\"sessions.length === 0\" class=\"text-center py-8 text-secondary-500\">\n              No sessions found. Schedule your first session to get started!\n            </div>\n\n            <div *ngFor=\"let session of sessions\" class=\"border border-secondary-200 rounded-lg p-4 mb-4\">\n              <div class=\"flex justify-between items-start\">\n                <div class=\"flex-1\">\n                  <div class=\"flex items-center space-x-4\">\n                    <div>\n                      <h3 class=\"font-medium text-secondary-900\">\n                        {{ getSessionTitle(session) }}\n                      </h3>\n                      <p class=\"text-sm text-secondary-600\">\n                        {{ session.scheduledAt | date:'MMM dd, yyyy h:mm a' }}\n                      </p>\n                    </div>\n                    <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\n                          [ngClass]=\"getStatusBadgeClass(session.status)\">\n                      {{ session.status }}\n                    </span>\n                  </div>\n                  \n                  <div class=\"mt-2\">\n                    <p class=\"text-sm text-secondary-600\">\n                      <span *ngIf=\"currentUser?.role === 'STUDENT'\">\n                        Mentor: {{ session.mentor?.name }}\n                      </span>\n                      <span *ngIf=\"currentUser?.role === 'MENTOR'\">\n                        Student: {{ session.student?.name }}\n                      </span>\n                    </p>\n                  </div>\n                </div>\n                \n                <div class=\"flex space-x-2\">\n                  <button *ngIf=\"canJoinSession(session)\" \n                          (click)=\"joinSession(session)\"\n                          class=\"btn-primary text-sm\">\n                    Join Session\n                  </button>\n                  <button *ngIf=\"canCancelSession(session)\" \n                          (click)=\"cancelSession(session)\"\n                          class=\"btn-outline text-sm\">\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})], MentorshipComponent);\nexport { MentorshipComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}