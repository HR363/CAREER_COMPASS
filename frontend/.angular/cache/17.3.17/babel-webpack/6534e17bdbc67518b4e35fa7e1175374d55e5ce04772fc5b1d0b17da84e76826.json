{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet ProfileComponent = class ProfileComponent {\n  constructor(fb, authService, aiService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.aiService = aiService;\n    this.router = router;\n    this.currentUser = null;\n    this.isUpdating = false;\n    this.isGeneratingRecommendations = false;\n    this.recommendations = null;\n    this.profileForm = this.fb.group({\n      education: [''],\n      skills: [''],\n      interests: [''],\n      goals: ['']\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    this.loadProfile();\n  }\n  loadProfile() {\n    if (this.currentUser?.profile) {\n      const profile = this.currentUser.profile;\n      this.profileForm.patchValue({\n        education: profile.education || '',\n        skills: profile.skills ? JSON.parse(profile.skills).join(', ') : '',\n        interests: profile.interests ? JSON.parse(profile.interests).join(', ') : '',\n        goals: profile.goals || ''\n      });\n    }\n  }\n  updateProfile() {\n    if (this.profileForm.valid) {\n      this.isUpdating = true;\n      const formData = this.profileForm.value;\n      const profileData = {\n        education: formData.education,\n        skills: formData.skills ? JSON.stringify(formData.skills.split(',').map(s => s.trim())) : '[]',\n        interests: formData.interests ? JSON.stringify(formData.interests.split(',').map(s => s.trim())) : '[]',\n        goals: formData.goals\n      };\n      // Here you would typically call a profile update service\n      // For now, we'll simulate the update\n      setTimeout(() => {\n        this.isUpdating = false;\n        // Update local user data\n        if (this.currentUser) {\n          this.currentUser.profile = {\n            ...this.currentUser.profile,\n            ...profileData\n          };\n        }\n        console.log('Profile updated:', profileData);\n      }, 1000);\n    }\n  }\n  getCareerRecommendations() {\n    if (!this.profileForm.valid) {\n      alert('Please fill in your profile information first');\n      return;\n    }\n    this.isGeneratingRecommendations = true;\n    const formData = this.profileForm.value;\n    const requestData = {\n      skills: formData.skills || '',\n      interests: formData.interests || '',\n      education: formData.education || '',\n      goals: formData.goals || ''\n    };\n    this.aiService.getCareerRecommendations(requestData).subscribe({\n      next: response => {\n        this.isGeneratingRecommendations = false;\n        this.recommendations = response;\n      },\n      error: error => {\n        this.isGeneratingRecommendations = false;\n        console.error('Error getting recommendations:', error);\n        alert('Failed to generate recommendations. Please try again.');\n      }\n    });\n  }\n  getRoleBadgeClass(role) {\n    switch (role) {\n      case 'ADMIN':\n        return 'bg-red-100 text-red-800';\n      case 'MENTOR':\n        return 'bg-purple-100 text-purple-800';\n      case 'STUDENT':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-secondary-100 text-secondary-800';\n    }\n  }\n  goBack() {\n    this.router.navigate(['/dashboard']);\n  }\n};\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: `\n    <div class=\"min-h-screen bg-secondary-50\">\n      <!-- Navigation -->\n      <nav class=\"bg-white shadow-sm border-b border-secondary-200\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div class=\"flex justify-between h-16\">\n            <div class=\"flex items-center\">\n              <button (click)=\"goBack()\" class=\"mr-4 text-secondary-500 hover:text-secondary-700\">\n                <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path>\n                </svg>\n              </button>\n              <h1 class=\"text-xl font-bold text-primary-600\">Profile</h1>\n            </div>\n            <div class=\"flex items-center\">\n              <span class=\"text-sm text-secondary-600\">{{ currentUser?.name }}</span>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div class=\"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div class=\"px-4 py-6 sm:px-0\">\n          \n          <!-- Profile Header -->\n          <div class=\"card mb-8\">\n            <div class=\"flex items-center space-x-6\">\n              <div class=\"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center\">\n                <svg class=\"w-10 h-10 text-primary-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\n                </svg>\n              </div>\n              <div>\n                <h2 class=\"text-2xl font-bold text-secondary-900\">{{ currentUser?.name }}</h2>\n                <p class=\"text-secondary-600\">{{ currentUser?.email }}</p>\n                <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-2\"\n                      [ngClass]=\"getRoleBadgeClass(currentUser?.role)\">\n                  {{ currentUser?.role }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Profile Form -->\n          <div class=\"card\">\n            <h3 class=\"text-lg font-medium text-secondary-900 mb-6\">Profile Information</h3>\n            \n            <form [formGroup]=\"profileForm\" (ngSubmit)=\"updateProfile()\">\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label class=\"form-label\">Education</label>\n                  <input type=\"text\" \n                         formControlName=\"education\" \n                         placeholder=\"e.g., Bachelor's in Computer Science\"\n                         class=\"input-field\">\n                </div>\n\n                <div>\n                  <label class=\"form-label\">Career Goals</label>\n                  <input type=\"text\" \n                         formControlName=\"goals\" \n                         placeholder=\"e.g., Become a Senior Software Engineer\"\n                         class=\"input-field\">\n                </div>\n              </div>\n\n              <div class=\"mt-6\">\n                <label class=\"form-label\">Skills</label>\n                <textarea formControlName=\"skills\" \n                          rows=\"3\" \n                          placeholder=\"Enter your skills (comma-separated): JavaScript, React, Node.js, Python...\"\n                          class=\"input-field\"></textarea>\n                <p class=\"text-sm text-secondary-500 mt-1\">Separate skills with commas</p>\n              </div>\n\n              <div class=\"mt-6\">\n                <label class=\"form-label\">Interests</label>\n                <textarea formControlName=\"interests\" \n                          rows=\"3\" \n                          placeholder=\"Enter your interests (comma-separated): Web Development, AI, Data Science...\"\n                          class=\"input-field\"></textarea>\n                <p class=\"text-sm text-secondary-500 mt-1\">Separate interests with commas</p>\n              </div>\n\n              <div class=\"mt-6 flex justify-end space-x-4\">\n                <button type=\"button\" \n                        (click)=\"goBack()\"\n                        class=\"btn-secondary\">\n                  Cancel\n                </button>\n                <button type=\"submit\" \n                        [disabled]=\"profileForm.invalid || isUpdating\"\n                        class=\"btn-primary\">\n                  <span *ngIf=\"isUpdating\" class=\"spinner mr-2\"></span>\n                  {{ isUpdating ? 'Updating...' : 'Update Profile' }}\n                </button>\n              </div>\n            </form>\n          </div>\n\n          <!-- Career Recommendations -->\n          <div class=\"card mt-8\" *ngIf=\"currentUser?.role === 'STUDENT'\">\n            <h3 class=\"text-lg font-medium text-secondary-900 mb-6\">Get Career Recommendations</h3>\n            <p class=\"text-secondary-600 mb-4\">\n              Based on your profile, we can suggest personalized career paths and learning roadmaps.\n            </p>\n            \n            <div class=\"flex space-x-4\">\n              <button (click)=\"getCareerRecommendations()\" \n                      [disabled]=\"isGeneratingRecommendations\"\n                      class=\"btn-primary\">\n                <span *ngIf=\"isGeneratingRecommendations\" class=\"spinner mr-2\"></span>\n                {{ isGeneratingRecommendations ? 'Generating...' : 'Get Recommendations' }}\n              </button>\n            </div>\n\n            <!-- Recommendations Display -->\n            <div *ngIf=\"recommendations\" class=\"mt-6\">\n              <h4 class=\"font-medium text-secondary-900 mb-4\">Suggested Career Paths</h4>\n              <div class=\"space-y-4\">\n                <div *ngFor=\"let career of recommendations.suggestedCareers\" \n                     class=\"border border-secondary-200 rounded-lg p-4\">\n                  <h5 class=\"font-medium text-secondary-900\">{{ career.title }}</h5>\n                  <p class=\"text-sm text-secondary-600 mt-1\">{{ career.description }}</p>\n                  <div class=\"mt-2 text-sm text-secondary-500\">\n                    <p><strong>Skills:</strong> {{ career.requiredSkills }}</p>\n                    <p><strong>Salary:</strong> {{ career.salaryRange }}</p>\n                    <p><strong>Why this fits:</strong> {{ career.matchReason }}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: []\n})], ProfileComponent);\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}